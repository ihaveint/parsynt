OASISFormat: 0.4
BuildTools: ocamlbuild
Plugins: META (0.4), DevFiles (0.4)

Name: ConSynth
Version: 0.1
Synopsis: Parallel program synthesis.
Authors: Victor Nicolet
License: LGPL with OCaml linking exception

Description: A library that synthesizes parallel C programs from sequential specifications.
Homepage: https://github.com/victornicolet/consynth

AlphaFeatures: ocamlbuild_more_args
XOCamlbuildExtraArgs: "-use-menhir"
PreBuildCommand: $rm dafny_examples/*.dll dafny_examples/*.mdb
PreInstallCommand:   $ocamlfind install ppx_getenv lib/META
PreUninstallCommand: $ocamlfind remove ppx_getenv
PostDistcleanCommand: $rm _tags myocamlbuild.ml setup.ml setup.data

Library conf
  Path: src/conf
  CompiledObject: best
  Modules: Conf
  BuildTools : ocamlbuild
  Install : false

Library mutils
  Path: src/utils
  CompiledObject:best
  Modules: Utils
  BuildTools: ocamlbuild
  Install : false
  BuildDepends: cil, extlib, conf

Library rosetteInterface
  Path: src/rosetteInterface
  BuildDepends: conf, extlib, mutils
  CompiledObject: best
  Modules: Local
  BuildTools : ocamlbuild
  Install : false

Library consynth
  Path: src/consynth
  Modules: Consynth
  CompiledObject: best
  BuildDepends: cil, rosetteInterface, extlib, conf, mutils

Library codegen
  Path: src/codegen
  Modules: Codegen
  CompiledObject: best
  BuildDepends: consynth, cil, rosetteInterface, extlib, conf, mutils

Executable test_main
  Path: test
  MainIs: Main.ml
  CompiledObject: best
  Install: false
  BuildDepends: cil, getopt, rosetteInterface, consynth, conf, codegen


Executable examples
  Path: test
  MainIs: Examples.ml
  CompiledObject: best
  Install: false
  BuildDepends: cil, consynth, rosetteInterface, getopt, mutils

Executable test_scheme_parsing
  Path: test
  MainIs : TestSchemeParsing.ml
  Compiledobject: best
  Install : false
  BuildDepends: cil, consynth, rosetteInterface, mutils

Executable Parsy
  Path: ./
  MainIs: Parsy.ml
  CompiledObject: best
  Install: false
  Build: true
  BuildDepends: consynth, getopt, codegen, mutils

Document consynth
 Title: Consynth Library Doc
 Authors: Victor Nicolet
 Type: ocamlbuild (0.4)
 BuildTools: ocamldoc
 XOcamlBuildLibraries : consynth
 XOCamlbuildPath: src
 XOCamlbuildExtraArgs: "-docflags '-html -all-params -colorize-code -short-functors -charset utf-8'"